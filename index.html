<!DOCTYPE html>
<html>
<head>
  <title>My Location Map</title>

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
    }
    #map {
      height: 100vh;
      width: 100%;
    }
    .btn {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1000;
      padding: 10px 15px;
      background: black;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 5px;
    }
  </style>
</head>

<body>

<button class="btn" onclick="getLocation()">Click me</button>
<div id="map"></div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
  // Default map (before permission)
  //const map = L.map('map').setView([0, 0], 2);

  //L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    //maxZoom: 19,
  //}).addTo(map);

  let marker;

  function getLocation() {
    if (!navigator.geolocation) {
      alert("Geolocation not supported");
      return;
    }

    navigator.geolocation.getCurrentPosition(
      position => {
        const lat = position.coords.latitude;
        const lon = position.coords.longitude;

        //map.setView([lat, lon], 15);

        //if (marker) {
          //marker.setLatLng([lat, lon]);
        //} else {
          //marker = L.marker([lat, lon]).addTo(map);
       // }

        //marker.bindPopup("Thanks").openPopup();
        document.getElementById("map").textContent = lat+"+++"+lon;
      },
      () => {
        alert("Location permission denied");
      }
    );
  }
</script>

</body>
</html>
